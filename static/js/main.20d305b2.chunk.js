(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(21),i=n.n(o),r=n(8),s=(n(90),n(91),n(92),n(35)),d=n(10),l=n(110),u=n(2),j=n(7),f=n(4),b=n(5),m=n.n(b),h=n(41),p=n.n(h),O=n(20),x=n.n(O),v=n(31),g="online",k="offline",w=navigator.connection||navigator.mozConnection||navigator.webkitConnection,y=["bluetooth","cellular","ethernet","wifi","wimax","other","unknown"];function N(e){return y.includes(e)?g:k}function _(){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.navigator.onLine){e.next=2;break}return e.abrupt("return",k);case 2:return(t=new URL(window.location.origin)).searchParams.set("rand",Date.now()),e.prev=4,e.next=7,fetch(t.toString(),{method:"HEAD"});case 7:return n=e.sent,e.abrupt("return",n.ok?g:k);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",k);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var T=n(1);var C=function(e){var t=e.className,n=Object(f.a)(e,["className"]),c=Object(a.useState)(null),o=Object(j.a)(c,2),i=o[0],r=o[1],s=Object(a.useRef)(null);return Object(a.useEffect)((function(){s.current&&(s.current.classList.remove(p.a.animate),s.current.offsetWidth,s.current.classList.add(p.a.animate))}),[i]),Object(a.useEffect)((function(){var e=function(e){if(w&&w.type){function t(){e(N(w.type))}return console.log("\ud83d\udd0c - using navigtor.connection.type to check network status"),w.addEventListener("change",t),{check:function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(w.type));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cleanup:function(){return w.removeEventListener("change",t)}}}function n(){e(g)}function a(){e(k)}return console.log("\ud83d\udd0c - using navigtor.onLine and fallback to check network status"),window.addEventListener("online",n),window.addEventListener("offline",a),{check:_,cleanup:function(){window.removeEventListener("online",n),window.removeEventListener("offline",a)}}}(r);return e.check().then(r),e.cleanup}),[]),null===i?null:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)("span",Object(u.a)(Object(u.a)({title:i},n),{},{className:m()(t,p.a.status,p.a[i])})),Object(T.jsx)("span",{ref:s,className:p.a.text,children:i})]})},I=n(114),E=n(117),M=n.p+"static/media/logo512.fbe0032f.png",R=n(69),D=n.n(R);var L=function(e){var t=e.darkMode,n="light",a="light",c=window.matchMedia("(prefers-color-scheme: dark)");return("on"===t||"system"===t&&c.matches)&&(n="dark",a="dark"),Object(T.jsx)(I.a,{bg:n,variant:a,expand:"md",className:"mb-2",children:Object(T.jsxs)(l.a,{children:[Object(T.jsxs)(I.a.Brand,{as:s.b,to:"/",children:[Object(T.jsx)("img",{className:D.a.logo,src:M,alt:""}),"Todo+"]}),Object(T.jsx)(I.a.Toggle,{"aria-controls":"todo-nav"}),Object(T.jsx)(I.a.Collapse,{id:"todo-nav",children:Object(T.jsx)(E.a,{className:"me-auto",children:Object(T.jsx)(E.a.Link,{as:s.b,to:"/settings",children:"Settings"})})})]})})},W=n(59),A=n.n(W),P=n(39),q=n(118),B="open",F="done";function U(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]})),e.modified=(new Date).toISOString()}var z=Object(P.b)({name:"todos",initialState:{items:[]},reducers:{addTodo:function(e,t){var n;e.items.push((n=t.payload,{id:Object(q.a)(),title:n,status:B,created:(new Date).toISOString(),modified:void 0,reminders:[]}))},updateTodo:function(e,t){var n=t.payload,a=n.id,c=n.title,o=e.items.find((function(e){return a===e.id}));o&&U(o,{title:c})},removeTodo:function(e,t){var n=t.payload,a=e.items.findIndex((function(e){return e.id===n}));a>=0&&e.items.splice(a,1)},completeTodo:function(e,t){var n=t.payload,a=e.items.find((function(e){return n===e.id}));a&&U(a,{status:F})},openTodo:function(e,t){var n=t.payload,a=e.items.find((function(e){return n===e.id}));a&&U(a,{status:B})},reorder:function(e,t){var n=t.payload,a=n.id,c=n.endIndex,o=e.items.findIndex((function(e){return e.id===a}));if(o>=0){var i=e.items.splice(o,1),r=Object(j.a)(i,1)[0];e.items.splice(c,0,r)}},addReminder:function(e,t){var n=t.payload,a=n.id,c=n.tag,o=n.timestamp,i=e.items.find((function(e){return a===e.id}));i.reminders=i.reminders||[],i&&i.reminders.push(function(e,t){return{tag:e,timestamp:t}}(c,o))},removeReminder:function(e,t){var n=t.payload,a=n.id,c=n.tag,o=e.items.find((function(e){return a===e.id}));if(o){var i=o.reminders.findIndex((function(e){return e.tag===c}));i>=0&&o.reminders.splice(i,1)}},clearPastReminders:function(e){e.items.forEach((function(e){e.reminders.length>0&&(e.reminders=e.reminders.filter((function(e){return e.timestamp>Date.now()})))}))}}}),J=z.actions,V=J.addTodo,H=J.updateTodo,K=J.removeTodo,Y=J.completeTodo,Z=J.openTodo,$=J.reorder,G=J.addReminder,Q=J.removeReminder,X=J.clearPastReminders,ee=function(e){return e.todos.present.items},te=z.reducer,ne=n(9),ae=n(116),ce=n(112),oe=n(73),ie=n(115),re=n(111),se=n(32),de=n(60),le=Object(P.b)({name:"settings",initialState:{allowNotification:!1,darkMode:"system",supportsNotifications:!1},reducers:{updateSetting:function(e,t){return Object(u.a)(Object(u.a)({},e),t.payload)}}}),ue=le.actions.updateSetting,je=function(e){return e.settings.darkMode},fe=function(e){return e.settings.allowNotification},be=function(e){return e.settings.supportsNotifications},me=le.reducer,he=function(e){var t=e.name;return Object(T.jsx)("i",{className:"bi bi-".concat(t)})},pe=function(e){var t=e.children,n=e.as,a=void 0===n?"span":n,c=e.className,o=Object(f.a)(e,["children","as","className"]);return Object(T.jsx)(a,Object(u.a)(Object(u.a)({},o),{},{className:m()(c,"visually-hidden"),children:t}))};var Oe=function(e){var t=e.required,n=e.onTimeAccepted,c=void 0===n?function(){}:n,o=Object(a.useState)(""),i=Object(j.a)(o,2),r=i[0],s=i[1],d=Object(a.useState)(!1),l=Object(j.a)(d,2),u=l[0],f=l[1],b=Object(a.useState)(!1),m=Object(j.a)(b,2),h=m[0],p=m[1];return Object(T.jsxs)(ie.a,{noValidate:!0,validated:u,onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),e.stopPropagation(),!0===t.checkValidity()?(c(r),p(!1)):p(!0),f(!0)},children:[Object(T.jsx)(ie.a.Label,{htmlFor:"addNotifcationReminder",children:"Choose a reminder time:"}),Object(T.jsxs)(re.a,{children:[Object(T.jsx)(ie.a.Control,{required:t,type:"datetime-local",id:"addNotifcationReminder",name:"notifcationReminder",value:r,min:se.DateTime.now().plus({minutes:1}).toISO().split(":").slice(0,2).join(":"),onChange:function(e){u&&f(!1),s(e.currentTarget.value)}}),Object(T.jsxs)(de.a,{variant:"primary",type:"submit",children:[Object(T.jsx)(he,{name:"plus-lg"}),Object(T.jsx)("span",{className:"visually-hidden",children:"add reminder"})]})]}),Object(T.jsx)(ie.a.Control.Feedback,{type:"invalid",style:{display:h?"block":"none"},children:r?"Time must be in the future":"Must not be empty"})]})},xe=function(){var e=Object(v.a)(x.a.mark((function e(t,n,a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("showTrigger"in Notification.prototype){e.next=2;break}throw new Error("Scheduled notifications not supported");case 2:return e.next=4,navigator.serviceWorker.getRegistration();case 4:return c=e.sent,e.next=7,Notification.requestPermission();case 7:if("granted"!==e.sent){e.next=12;break}c.showNotification(n,{tag:t,body:"This notification was scheduled 30 seconds ago",showTrigger:new window.TimestampTrigger(a+3e4),data:{url:window.location.href},badge:"logo192.png",icon:"logo192.png",actions:[{action:"open",title:"Open app"},{action:"close",title:"Close notification"}]}),e.next=13;break;case 12:throw new Error("Notification permission denied");case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:return n=e.sent,e.next=5,n.getNotifications({tag:t,includeTriggered:!0});case 5:a=e.sent,console.log("\ud83d\ude80 ~ file: notifications.js ~ line 48 ~ cancelScheduledNotification ~ notifications",a),a.forEach((function(e){return e.close()}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=n(42),ke=n.n(ge);var we=function(e){var t=e.todo,n=e.onClose,a=t.id,c=t.title,o=t.reminders,i=void 0===o?[]:o,d=Object(r.c)(),l=Object(r.d)(fe),u=Object(r.d)(be),j=Object(T.jsxs)("button",{type:"button",className:"btn-reset ".concat(ke.a.close),onClick:n,children:[Object(T.jsx)(he,{name:"x-lg"}),Object(T.jsx)("span",{className:"visually-hidden",children:"close"})]});return u?l&&u?Object(T.jsxs)("div",{className:ke.a.settingsWrap,children:[j,Object(T.jsx)(Oe,{required:!0,onTimeAccepted:function(e){if(e){var t=Object(q.a)(),n=se.DateTime.fromISO(e).toMillis();xe(t,c,n).then((function(){d(G({id:a,tag:t,timestamp:n}))})).catch((function(e){console.error(e),alert("Error adding notification. ".concat(e.message))}))}}}),i.length>0&&Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{className:"mb-0 mt-4 fw-bold",children:"Scheduled reminders:"}),Object(T.jsx)("ul",{className:ke.a.list,children:i.map((function(e){return Object(T.jsxs)("li",{children:[se.DateTime.fromMillis(e.timestamp).toLocaleString(se.DateTime.DATETIME_MED)," ",Object(T.jsxs)(de.a,{variant:"secondary",className:"rounded-circle",onClick:(t=e.tag,function(){d(Q({id:a,tag:t})),ve(t).catch((function(e){console.error(e)}))}),children:[Object(T.jsx)(he,{name:"x-lg"}),Object(T.jsx)("span",{className:"visually-hidden",children:"delete this reminder"})]})]},e.tag);var t}))})]})]}):Object(T.jsxs)("div",{className:ke.a.settingsWrap,children:[j,Object(T.jsxs)("p",{className:"m-0",children:["Notifications have been disabled. Enable them in ",Object(T.jsx)(s.b,{to:"/settings",children:"settings"})]})]}):Object(T.jsxs)("div",{className:ke.a.settingsWrap,children:[j,Object(T.jsx)("p",{className:"m-0",children:"We're sorry, your platform does not currently support scheduled notifications"})]})};var ye=function(e){var t=e.text,n=e.onChange,c=(e.label,Object(f.a)(e,["text","onChange","label"])),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(document.activeElement===o.current){var e=document.createRange();e.selectNodeContents(o.current),e.collapse(!1);var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}}),[t]),Object(T.jsx)("div",Object(u.a)(Object(u.a)({ref:o,role:"textbox",contentEditable:"true",suppressContentEditableWarning:!0,onInput:n,style:{cursor:"text"}},c),{},{children:t}))},Ne=n(113),_e=Object(a.forwardRef)((function(e,t){var n=e.onClick;return Object(T.jsxs)("button",{className:"btn-reset",type:"button",ref:t,onClick:function(e){e.preventDefault(),n(e)},children:[Object(T.jsx)(pe,{children:"options"}),Object(T.jsx)(he,{name:"three-dots-vertical"})]})}));var Se=function(e){var t=e.id,n=e.items,a=void 0===n?[]:n;return Object(T.jsxs)(Ne.a,{align:"end",onSelect:function(e){var t,n;null===(t=a[e])||void 0===t||null===(n=t.onSelect)||void 0===n||n.call(t)},children:[Object(T.jsx)(Ne.a.Toggle,{as:_e,id:t}),Object(T.jsx)(Ne.a.Menu,{children:a.map((function(e,n){return Object(T.jsxs)(Ne.a.Item,{eventKey:n,className:"d-flex gap-2 align-items-center",children:[e.icon&&Object(T.jsx)(he,{name:e.icon}),e.name]},"".concat(e.name,"-").concat(t,"-").concat(n,"}"))}))})]})},Te=n(36),Ce=n.n(Te),Ie=F,Ee=B;function Me(e,t){var n=e.todo,c=e.onDeleteItem,o=void 0===c?function(){}:c,i=Object(f.a)(e,["todo","onDeleteItem"]),s=n.id,d=n.title,l=n.status,b=Object(r.c)(),h=Object(a.useState)(!1),p=Object(j.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),k=g[0],w=g[1],y=Object(ae.a)((function(e){b(H({id:s,title:e}))}),1e3);var N=l===Ie,_=[{name:"delete",onSelect:function(){var e;w(!0),o(s),null===(e=n.reminders)||void 0===e||e.forEach((function(e){ve(e.tag).catch(console.error)})),setTimeout((function(){b(K(s))}),500)},icon:"trash"}];return N||_.unshift({icon:"bell",name:"reminders",onSelect:function(){x(!0)}}),Object(T.jsxs)(ce.a,Object(u.a)(Object(u.a)({ref:t},i),{},{as:"li",className:m()("gx-0 mb-1",Ce.a.fadeIn,Object(ne.a)({},Ce.a.fadeOut,k)),children:[l===Ee&&Object(T.jsx)(oe.a,{xs:"auto",className:"align-items-center d-flex ".concat(Ce.a.grip),children:Object(T.jsx)(he,{name:"grip-vertical"})}),Object(T.jsx)(oe.a,{xs:"auto",children:Object(T.jsxs)(ie.a.Check,{className:Ce.a.check,id:"todo-checkbox-".concat(s),children:[Object(T.jsx)(ie.a.Check.Input,{type:"checkbox",checked:N,onChange:function(e){e.target.checked?b(Y(s)):b(Z(s))}}),Object(T.jsx)(ie.a.Check.Label,{htmlFor:"todo-checkbox-".concat(s),className:"visually-hidden",children:"Mark done"})]})}),Object(T.jsx)(oe.a,{children:Object(T.jsxs)(re.a,{children:[N&&Object(T.jsx)("div",{className:"".concat(Ce.a.control," form-control text-muted text-decoration-line-through"),children:d}),!N&&Object(T.jsx)(ye,{onChange:function(e){y(e.currentTarget.textContent)},className:m()(Ce.a.control,"form-control"),text:d}),Object(T.jsx)(Se,{id:"todo-options-".concat(s),items:_})]})}),O&&Object(T.jsx)(oe.a,{xs:12,children:Object(T.jsx)(we,{todo:n,onClose:function(){return x(!1)}})})]}))}var Re=Object(a.forwardRef)(Me),De=n(50),Le=F;var We=function(e){var t=e.todo,n=e.index,a=Object(f.a)(e,["todo","index"]),c=t.id,o=t.status,i=function(e,t){var n=Object(u.a)({},t);if(e&&(n.userSelect="none"),o===Le&&(n.display="none"),n.transform){var a=n.transform.match(/translate\(([^)]+)\)/i),c=Object(j.a)(a,2)[1].split(", ").map((function(e){return parseFloat(e,10)})),i=Object(j.a)(c,2)[1];n.transform="translate(0px, ".concat(i,"px)")}return n};return Object(T.jsx)(De.b,{draggableId:c,index:n,children:function(e,n){return Object(T.jsx)(Re,Object(u.a)(Object(u.a)(Object(u.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:i(n.isDragging,e.draggableProps.style),todo:t},a))}})};var Ae=function(){var e=Object(r.c)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),d=s[0],l=s[1];return Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(V(c)),o("")},children:[Object(T.jsxs)(re.a,{children:[Object(T.jsx)(ie.a.Control,{onChange:function(e){var t=e.currentTarget.value;if(t.length>150)return e.preventDefault(),void l(!0);l(!1),o(t)},value:c,"aria-label":"Enter todo item","aria-describedby":"basic-addon2"}),Object(T.jsxs)(de.a,{type:"submit",variant:"outline-primary",id:"button-addon2",children:[Object(T.jsx)(he,{name:"plus-lg"}),Object(T.jsx)(pe,{children:"add todo"})]})]}),Object(T.jsx)(ie.a.Control.Feedback,{type:"invalid",style:{display:d?"block":"none"},children:"Max 150 characters"})]})},Pe=n(43),qe=n.n(Pe);var Be=function(e){var t=e.title,n=e.actionTitle,c=e.action,o=e.onClose;return Object(a.useEffect)((function(){var e=setTimeout(o,5e3);return function(){window.clearTimeout(e)}}),[o]),Object(T.jsx)("div",{role:"alert",className:qe.a.snackWrap,children:Object(T.jsxs)("div",{className:qe.a.snackInner,children:[Object(T.jsx)("div",{children:t}),Object(T.jsxs)("div",{className:qe.a.actionWrap,children:[c&&n&&Object(T.jsx)("button",{className:qe.a.action,type:"button",onClick:c,children:n}),Object(T.jsxs)("button",{type:"button",className:qe.a.close,onClick:o,children:[Object(T.jsx)(he,{name:"x-lg"}),Object(T.jsx)("span",{className:"visually-hidden",children:"close"})]})]})]})})},Fe=F;var Ue=function(){var e=Object(r.d)(ee),t=Object(r.c)(),n=Object(a.useState)(!1),c=Object(j.a)(n,2),o=c[0],i=c[1],s=e.filter((function(e){return e.status===Fe}));function d(){i(!0)}return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a,{children:Object(T.jsx)(ce.a,{children:Object(T.jsxs)(oe.a,{children:[Object(T.jsx)(De.a,{onDragEnd:function(e){e.destination&&t($({id:e.draggableId,endIndex:e.destination.index}))},children:Object(T.jsx)(De.c,{droppableId:"home-list",children:function(t){return Object(T.jsxs)("ul",Object(u.a)(Object(u.a)({},t.droppableProps),{},{ref:t.innerRef,className:"list-unstyled",children:[e&&e.map((function(e,t){return Object(T.jsx)(We,{todo:e,onDeleteItem:d,index:t},e.id)})),t.placeholder]}))}})}),Object(T.jsx)(Ae,{}),o&&Object(T.jsx)(Be,{title:"Deleted todo item",actionTitle:"undo",action:function(){t(W.ActionCreators.undo()),i(!1)},onClose:function(){i(!1)}}),s.length>0&&Object(T.jsx)("ul",{className:"list-unstyled mt-4",children:s.map((function(e){return Object(T.jsx)(Re,{todo:e,onDeleteItem:d},e.id)}))})]})})})})};var ze=function(){return Object(T.jsx)(Ue,{})};var Je=function(){var e=Object(r.c)(),t=Object(r.d)((function(e){return e.settings}));return Object(T.jsxs)(l.a,{children:[Object(T.jsx)(ce.a,{children:Object(T.jsx)(oe.a,{children:Object(T.jsx)("h1",{children:"Settings"})})}),Object(T.jsxs)(ce.a,{className:"mt-4",children:[Object(T.jsx)(oe.a,{children:"Allow notifications"}),Object(T.jsx)(oe.a,{xs:"auto",children:Object(T.jsx)(ie.a.Check,{type:"switch",id:"allowNotifications","aria-label":"Toggle Allow Notifications",checked:t.allowNotification,onChange:function(t){t.target.checked?Notification.requestPermission().then((function(t){e(ue({allowNotification:"granted"===t}))})):e(ue({allowNotification:!1}))}})})]}),Object(T.jsxs)(ce.a,{className:"mt-4",children:[Object(T.jsx)(oe.a,{children:"Dark Mode"}),Object(T.jsx)(oe.a,{xs:"auto",children:Object(T.jsxs)("fieldset",{children:[Object(T.jsx)(ie.a.Check,{inline:!0,type:"radio",id:"darkMode-on",name:"darkMode",label:"on",checked:"on"===t.darkMode,value:"on",onChange:function(t){e(ue({darkMode:"on"}))}}),Object(T.jsx)(ie.a.Check,{inline:!0,type:"radio",id:"darkMode-off",name:"darkMode",label:"off",checked:"off"===t.darkMode,value:"off",onChange:function(t){e(ue({darkMode:"off"}))}}),Object(T.jsx)(ie.a.Check,{inline:!0,type:"radio",id:"darkMode-system",name:"darkMode",label:"OS",checked:"system"===t.darkMode,value:"system",onChange:function(t){e(ue({darkMode:"system"}))}})]})})]})]})};var Ve=n(76),He=n.n(Ve);var Ke=function(){var e=Object(r.d)(je),t=Object(r.c)();return function(){var e=Object(r.c)();Object(a.useEffect)((function(){var t="test-reminder-".concat(Date.now()),n=se.DateTime.now().plus({minutes:2}).toMillis();xe(t,"test scheduled reminder",n).then((function(){ve(t).catch(console.error),e(ue({supportsNotifications:!0,allowNotification:!0}))})).catch((function(t){console.error("App.js createScheduledNotification:",t),t.message.includes("permission")?e(ue({allowNotification:!1})):e(ue({supportsNotifications:!1}))}))}),[])}(),Object(a.useEffect)((function(){t(X())}),[]),Object(a.useEffect)((function(){"on"===e?(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")):"off"===e?(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.remove("light-theme"))}),[e]),Object(T.jsxs)(s.a,{children:[Object(T.jsx)(L,{darkMode:e}),Object(T.jsx)("main",{className:"pb-4",children:Object(T.jsxs)(d.c,{children:[Object(T.jsx)(d.a,{path:"/",exact:!0,children:Object(T.jsx)(ze,{})}),Object(T.jsx)(d.a,{path:"/settings",exact:!0,children:Object(T.jsx)(Je,{})})]})}),Object(T.jsx)("footer",{className:"".concat(He.a.footer," bg-light"),children:Object(T.jsx)(l.a,{children:Object(T.jsx)(C,{})})})]})},Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $e=n(77),Ge=n(12),Qe=n(26),Xe=n(78),et=n.n(Xe),tt=Object(Ge.c)({todos:A()(te,{limit:1}),settings:me}),nt={key:"root",version:1,storage:et()("TodoDB")},at=Object(Qe.g)(nt,tt),ct=Object(P.a)({reducer:at,middleware:function(e){return e({serializableCheck:{ignoredActions:[Qe.a,Qe.f,Qe.b,Qe.c,Qe.d,Qe.e]}})}}),ot=Object(Qe.h)(ct);i.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(r.a,{store:ct,children:Object(T.jsx)($e.a,{loading:null,persistor:ot,children:Object(T.jsx)(Ke,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pwa-todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pwa-todo","/service-worker.js");Ye?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ze(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ze(t,e)}))}}(),"standalone"in navigator&&(fetch("manifest.json").then((function(e){return e.text()})).then((function(e){document.querySelector('link[rel="manifest"]').href="data:application/manifest+json;charset=utf-8,".concat(e)})).catch(console.error),fetch("logo180.png").then((function(e){return e.blob()})).then((function(e){var t=new FileReader;t.onload=function(){document.querySelector('link[rel="apple-touch-icon"]').href=t.result},t.readAsDataURL(e)})).catch(console.error))},36:function(e,t,n){e.exports={check:"TodoItem_check__1Vyp5",control:"TodoItem_control__Pk4k4",grip:"TodoItem_grip__18YEZ",remove:"TodoItem_remove__3Pi93",fadeIn:"TodoItem_fadeIn__2SAdo",fadeOut:"TodoItem_fadeOut__39KgA"}},41:function(e,t,n){e.exports={status:"NetworkStatus_status__jwDJp",online:"NetworkStatus_online__31Mwq",offline:"NetworkStatus_offline__1rOSz",text:"NetworkStatus_text__22sfn",animate:"NetworkStatus_animate__1709a",quickReveal:"NetworkStatus_quickReveal__3u39r"}},42:function(e,t,n){e.exports={settingsWrap:"TodoItemReminder_settingsWrap__1Vc_8",list:"TodoItemReminder_list__3JAY8",close:"TodoItemReminder_close__KyiOm"}},43:function(e,t,n){e.exports={snackWrap:"SnackBar_snackWrap__16cIp",snackInner:"SnackBar_snackInner__1vwPc",actionWrap:"SnackBar_actionWrap__10IA_",action:"SnackBar_action__3MmYh",close:"SnackBar_close__3aLzP"}},69:function(e,t,n){e.exports={logo:"Navbar_logo__1H3m4"}},76:function(e,t,n){e.exports={footer:"App_footer__29Fsv"}},92:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.20d305b2.chunk.js.map