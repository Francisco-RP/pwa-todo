{"version":3,"sources":["features/Todo/TodoItem.module.css","components/NetworkStatus/NetworkStatus.module.css","components/SnackBar/SnackBar.module.css","components/TodoItemReminder/TodoItemReminder.module.css","App.module.css","components/NetworkStatus/status.js","components/NetworkStatus/index.js","features/Todo/TodoModel.js","features/Todo/todoSlice.js","redux/settingsSlice.js","components/DatePicker/DatePicker.jsx","helpers/notifications.js","components/TodoItemReminder/index.jsx","components/ContentEditable/index.jsx","features/Todo/TodoItem.js","features/Todo/DraggableTodo.js","components/AddTodoForm/AddTodoForm.jsx","components/SnackBar/SnackBar.jsx","pages/Home.jsx","pages/Settings.jsx","components/Navbar.jsx","App.js","serviceWorkerRegistration.js","redux/store.js","index.js","helpers/pwa.js"],"names":["module","exports","ONLINE","OFFLINE","connection","navigator","mozConnection","webkitConnection","online_types","getStatus","type","includes","isOnline","a","window","onLine","url","URL","location","origin","searchParams","set","Date","now","fetch","toString","method","response","ok","NetworkStatus","className","props","useState","status","setStatus","textRef","useRef","useEffect","current","classList","remove","styles","animate","offsetWidth","add","statusCheck","callback","handleChange","console","log","addEventListener","check","cleanup","removeEventListener","handleOnline","handleOffline","getNetworkStatus","then","title","classNames","ref","text","TODO_STATUS","modifyTodo","todo","properties","modified","toISOString","todoSlice","createSlice","name","initialState","items","reducers","addTodo","state","action","push","payload","id","uuid","created","undefined","reminders","updateTodo","find","item","removeTodo","index","findIndex","splice","completeTodo","openTodo","reorder","endIndex","removed","addReminder","tag","timestamp","createReminder","removeReminder","actions","selectTodos","todos","present","settingsSlice","allowNotification","darkMode","updateSimpleSetting","settingsKey","value","selectDarkMode","settings","selectAllowNotifications","DatePicker","required","onTimeAccepted","dateVal","setDateVal","validated","setValidated","hasError","setHasError","Form","noValidate","onSubmit","event","form","currentTarget","preventDefault","stopPropagation","checkValidity","Label","htmlFor","InputGroup","Control","min","DateTime","plus","minutes","toISO","split","slice","join","onChange","e","Button","variant","Feedback","style","display","createScheduledNotification","serviceWorker","getRegistration","registration","Notification","requestPermission","showNotification","body","showTrigger","TimestampTrigger","data","href","badge","icon","Error","cancelScheduledNotification","getNotifications","includeTriggered","forEach","notification","close","TodoItemReminder","dispatch","useDispatch","useSelector","settingsWrap","time","fromISO","toMillis","catch","error","alert","message","length","list","map","r","fromMillis","toLocaleString","DATETIME_MED","onClick","to","ContentEditable","label","document","activeElement","range","createRange","selectNodeContents","collapse","selection","getSelection","removeAllRanges","addRange","role","contentEditable","suppressContentEditableWarning","onInput","DONE","OPEN","TodoItem","onDeleteItem","showSettings","setShowSettings","isDeleting","setIsDeleting","debouncedUpdate","debounce","isDone","Row","as","fadeIn","fadeOut","Col","xs","grip","Check","Input","checked","target","control","textContent","setTimeout","forwardRef","DraggableTodo","getItemStyle","isDragging","draggableStyle","userSelect","border","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","AddTodoForm","setTitle","aria-label","aria-describedby","SnackBar","actionTitle","onClose","timeout","clearTimeout","snackWrap","snackInner","actionWrap","HomePage","showUndo","setShowUndo","completed","filter","onDelete","Container","onDragEnd","result","destination","droppableId","droppableProps","placeholder","ActionCreators","undo","SettingsPage","allSettings","permission","inline","OurNavbar","bg","prefersDarkScheme","matchMedia","matches","Navbar","expand","Brand","Link","Toggle","aria-controls","Collapse","Nav","App","tempTag","path","exact","Home","Settings","footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","rootReducer","combineReducers","undoable","todoReducer","limit","settingsReducer","persistConfig","key","version","storage","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","StrictMode","loading","getElementById","process","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","manifest","querySelector","blob","reader","FileReader","onload","readAsDataURL"],"mappings":"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","file":"static/js/main.7e8ac2f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"check\":\"TodoItem_check__1Vyp5\",\"control\":\"TodoItem_control__Pk4k4\",\"grip\":\"TodoItem_grip__18YEZ\",\"remove\":\"TodoItem_remove__3Pi93\",\"fadeIn\":\"TodoItem_fadeIn__2SAdo\",\"fadeOut\":\"TodoItem_fadeOut__39KgA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"NetworkStatus_status__jwDJp\",\"online\":\"NetworkStatus_online__31Mwq\",\"offline\":\"NetworkStatus_offline__1rOSz\",\"text\":\"NetworkStatus_text__22sfn\",\"animate\":\"NetworkStatus_animate__1709a\",\"quickReveal\":\"NetworkStatus_quickReveal__3u39r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackWrap\":\"SnackBar_snackWrap__16cIp\",\"snackInner\":\"SnackBar_snackInner__1vwPc\",\"actionWrap\":\"SnackBar_actionWrap__10IA_\",\"action\":\"SnackBar_action__3MmYh\",\"close\":\"SnackBar_close__3aLzP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsWrap\":\"TodoItemReminder_settingsWrap__1Vc_8\",\"list\":\"TodoItemReminder_list__3JAY8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"App_footer__29Fsv\"};","export const ONLINE = 'online';\nexport const OFFLINE = 'offline';\n\nconst connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n\nconst online_types = ['bluetooth', 'cellular', 'ethernet', 'wifi', 'wimax', 'other', 'unknown'];\n\nfunction getStatus(type) {\n  if (online_types.includes(type)) {\n    return ONLINE;\n  } else {\n    return OFFLINE;\n  }\n}\n\nasync function isOnline() {\n  // some help from: https://dev.to/maxmonteil/is-your-app-online-here-s-how-to-reliably-know-in-just-10-lines-of-js-guide-3in7\n  if (!window.navigator.onLine) return OFFLINE;\n\n  // avoid CORS errors with a request to your own origin\n  const url = new URL(window.location.origin);\n\n  // random value to prevent cached responses\n  url.searchParams.set('rand', Date.now());\n\n  try {\n    const response = await fetch(url.toString(), { method: 'HEAD' });\n\n    return response.ok ? ONLINE : OFFLINE;\n  } catch {\n    return OFFLINE;\n  }\n}\n\nexport function getNetworkStatus(callback) {\n  if (connection && connection.type) {\n    console.log('ðŸ”Œ - using navigtor.connection.type to check network status');\n    function handleChange() {\n      callback(getStatus(connection.type));\n    }\n\n    connection.addEventListener('change', handleChange);\n\n    return {\n      check: async () => getStatus(connection.type),\n      cleanup: () => connection.removeEventListener('change', handleChange),\n    };\n  }\n\n  console.log('ðŸ”Œ - using navigtor.onLine and fallback to check network status');\n\n  function handleOnline() {\n    callback(ONLINE);\n  }\n  function handleOffline() {\n    callback(OFFLINE);\n  }\n  window.addEventListener('online', handleOnline);\n  window.addEventListener('offline', handleOffline);\n\n  return {\n    check: isOnline,\n    cleanup: () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    },\n  };\n}\n","import { useState, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport styles from 'components/NetworkStatus/NetworkStatus.module.css';\nimport { getNetworkStatus } from './status';\n\nfunction NetworkStatus({ className, ...props }) {\n  const [status, setStatus] = useState(null);\n  const textRef = useRef(null);\n\n  useEffect(() => {\n    // little \"hack\" to restart a CSS animation when the status changes\n    // src: https://css-tricks.com/restart-css-animation/\n    if (textRef.current) {\n      textRef.current.classList.remove(styles.animate);\n      void textRef.current.offsetWidth;\n      textRef.current.classList.add(styles.animate);\n    }\n  }, [status]);\n\n  useEffect(() => {\n    const statusCheck = getNetworkStatus(setStatus);\n\n    statusCheck.check().then(setStatus);\n\n    return statusCheck.cleanup;\n  }, []);\n\n  if (status === null) return null;\n\n  return (\n    <div className=\"d-flex align-items-center\">\n      <span\n        title={status}\n        {...props}\n        className={classNames(className, styles.status, styles[status])}\n      />\n      <span ref={textRef} className={styles.text}>\n        {status}\n      </span>\n    </div>\n  );\n}\n\nexport default NetworkStatus;\n","import { v4 as uuid } from 'uuid';\n\nexport const TODO_STATUS = {\n  OPEN: 'open',\n  DONE: 'done',\n};\n\nexport function createReminder(tag, timestamp) {\n  return {\n    tag,\n    timestamp,\n  };\n}\n\nexport function createTodo(title) {\n  return {\n    id: uuid(),\n    title,\n    status: TODO_STATUS.OPEN,\n    created: new Date().toISOString(),\n    modified: undefined,\n    reminders: [],\n  };\n}\n\nexport function modifyTodo(todo, properties) {\n  return {\n    ...todo,\n    ...properties,\n    modified: new Date().toISOString(),\n  };\n}\n","import { createSlice } from '@reduxjs/toolkit';\nimport { createTodo, modifyTodo, createReminder, TODO_STATUS } from 'features/Todo/TodoModel';\n\nconst initialState = {\n  items: [],\n};\n\nexport const todoSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    addTodo: (state, action) => {\n      state.items.push(createTodo(action.payload));\n    },\n\n    updateTodo: (state, action) => {\n      const { id, title } = action.payload;\n      const todo = state.items.find((item) => id === item.id);\n      if (todo) {\n        modifyTodo(todo, { title });\n      }\n    },\n\n    removeTodo: (state, action) => {\n      const { payload: id } = action;\n      const index = state.items.findIndex((todo) => todo.id === id);\n      if (index >= 0) {\n        state.items.splice(index, 1);\n      }\n    },\n\n    completeTodo: (state, action) => {\n      const { payload: id } = action;\n      const todo = state.items.find((item) => id === item.id);\n      if (todo) {\n        modifyTodo(todo, { status: TODO_STATUS.DONE });\n      }\n    },\n\n    openTodo: (state, action) => {\n      const { payload: id } = action;\n      const todo = state.items.find((item) => id === item.id);\n      if (todo) {\n        modifyTodo(todo, { status: TODO_STATUS.OPEN });\n      }\n    },\n\n    reorder: (state, action) => {\n      const { id, endIndex } = action.payload;\n      const index = state.items.findIndex((todo) => todo.id === id);\n      if (index >= 0) {\n        const [removed] = state.items.splice(index, 1);\n        state.items.splice(endIndex, 0, removed);\n      }\n    },\n\n    addReminder: (state, action) => {\n      const { id, tag, timestamp } = action.payload;\n      const todo = state.items.find((item) => id === item.id);\n      todo.reminders = todo.reminders || [];\n      if (todo) {\n        todo.reminders.push(createReminder(tag, timestamp));\n      }\n    },\n\n    removeReminder: (state, action) => {\n      const { id, tag } = action.payload;\n      const todo = state.items.find((item) => id === item.id);\n      if (todo) {\n        const index = todo.reminders.findIndex((todo) => todo.tag === tag);\n        if (index >= 0) {\n          todo.reminders.splice(index, 1);\n        }\n      }\n    },\n  },\n});\n\nexport const {\n  addTodo,\n  updateTodo,\n  removeTodo,\n  completeTodo,\n  openTodo,\n  reorder,\n  addReminder,\n  removeReminder,\n} = todoSlice.actions;\n\nexport const selectTodos = (state) => state.todos.present.items;\n\nexport default todoSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  allowNotification: false,\n  darkMode: \"system\",\n};\n\nexport const settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    updateSimpleSetting: (state, action) => {\n      const { settingsKey, value } = action.payload;\n      state[settingsKey] = value;\n    },\n  },\n});\n\nexport const { updateSimpleSetting } = settingsSlice.actions;\n\nexport const selectDarkMode = (state) => state.settings.darkMode;\nexport const selectAllowNotifications = (state) => state.settings.allowNotification;\n\nexport default settingsSlice.reducer;\n","import { useState } from 'react';\nimport { Form, InputGroup, Button } from 'react-bootstrap';\nimport { DateTime } from 'luxon';\n\nfunction getMinTime() {\n  return DateTime.now().plus({ minutes: 1 }).toISO().split(':').slice(0, 2).join(':');\n}\n\nfunction DatePicker({ required, onTimeAccepted = () => {} }) {\n  const [dateVal, setDateVal] = useState('');\n  const [validated, setValidated] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const handleSubmit = (event) => {\n    const form = event.currentTarget;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (form.checkValidity() === true) {\n      onTimeAccepted(dateVal);\n      setHasError(false);\n    } else {\n      setHasError(true);\n    }\n\n    setValidated(true);\n  };\n\n  return (\n    <Form noValidate validated={validated} onSubmit={handleSubmit}>\n      <Form.Label htmlFor=\"addNotifcationReminder\">Choose a reminder time:</Form.Label>\n      <InputGroup>\n        <Form.Control\n          required={required}\n          type=\"datetime-local\"\n          id=\"addNotifcationReminder\"\n          name=\"notifcationReminder\"\n          value={dateVal}\n          min={getMinTime()}\n          onChange={(e) => {\n            if (validated) setValidated(false);\n            setDateVal(e.currentTarget.value);\n          }}\n        />\n\n        <Button variant=\"primary\" type=\"submit\">\n          <i className=\"bi bi-plus-lg\" />\n          <span className=\"visually-hidden\">add reminder</span>\n        </Button>\n      </InputGroup>\n\n      <Form.Control.Feedback type=\"invalid\" style={{ display: hasError ? 'block' : 'none' }}>\n        {!dateVal ? 'Must not be empty' : 'Time must be in the future'}\n      </Form.Control.Feedback>\n    </Form>\n  );\n}\n\nexport default DatePicker;\n","/**\n * @param {string} tag a unique id\n * @param {string} title what the notification will say\n * @param {number} timestamp Date.now()\n */\nexport const createScheduledNotification = async (tag, title, timestamp) => {\n  const registration = await navigator.serviceWorker.getRegistration();\n  const permission = await Notification.requestPermission();\n  if (permission === 'granted') {\n    registration.showNotification(title, {\n      tag: tag,\n      body: 'This notification was scheduled 30 seconds ago',\n      showTrigger: new window.TimestampTrigger(timestamp + 30 * 1000),\n\n      data: {\n        url: window.location.href, // pass the current url to the notification\n      },\n      badge: 'logo192.png',\n      icon: 'logo192.png',\n      actions: [\n        {\n          action: 'open',\n          title: 'Open app',\n        },\n        {\n          action: 'close',\n          title: 'Close notification',\n        },\n      ],\n    });\n  } else {\n    throw new Error('Notification permission denied');\n  }\n};\n\n/**\n * @param {string} tag the id of the notification to remove\n */\nexport const cancelScheduledNotification = async (tag) => {\n  const registration = await navigator.serviceWorker.getRegistration();\n  const notifications = await registration.getNotifications({\n    tag: tag,\n    includeTriggered: true,\n  });\n  notifications.forEach((notification) => notification.close());\n};\n","import { v4 as uuid } from 'uuid';\nimport { DateTime } from 'luxon';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addReminder, removeReminder } from 'features/Todo/todoSlice';\nimport { selectAllowNotifications } from 'redux/settingsSlice';\nimport Button from 'react-bootstrap/Button';\nimport DatePicker from 'components/DatePicker/DatePicker';\nimport { createScheduledNotification, cancelScheduledNotification } from 'helpers/notifications';\nimport styles from 'components/TodoItemReminder/TodoItemReminder.module.css';\n\nfunction TodoItemReminder({ todo }) {\n  const { id, title, reminders = [] } = todo;\n  const dispatch = useDispatch();\n  const allowed = useSelector(selectAllowNotifications);\n\n  if (!allowed) {\n    return (\n      <div className={styles.settingsWrap}>\n        <p>\n          Notifications have been disabled. Enable them in <Link to=\"/settings\">settings</Link>\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.settingsWrap}>\n      <DatePicker\n        required\n        onTimeAccepted={(time) => {\n          if (!time) return;\n          const tag = uuid();\n          const timestamp = DateTime.fromISO(time).toMillis();\n          createScheduledNotification(tag, title, timestamp)\n            .then(() => {\n              dispatch(\n                addReminder({\n                  id,\n                  tag,\n                  timestamp,\n                })\n              );\n            })\n            .catch((e) => {\n              console.error(e);\n              alert(`Error adding notification. ${e.message}`);\n            });\n        }}\n      />\n      {reminders.length > 0 && (\n        <div>\n          <p className=\"mb-0 mt-4 fw-bold\">Scheduled reminders:</p>\n          <ul className={styles.list}>\n            {reminders.map((r) => (\n              <li key={r.tag}>\n                {DateTime.fromMillis(r.timestamp).toLocaleString(DateTime.DATETIME_MED)}{' '}\n                <Button\n                  variant=\"secondary\"\n                  className=\"rounded-circle\"\n                  onClick={() => {\n                    dispatch(removeReminder({ id, tag: r.tag }));\n                    cancelScheduledNotification(r.tag).catch((e) => {\n                      console.error(e);\n                    });\n                  }}\n                >\n                  <i className=\"bi bi-x-lg\" />\n                  <span className=\"visually-hidden\">delete this reminder</span>\n                </Button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TodoItemReminder;\n","import { useRef, useEffect } from 'react';\n\nfunction ContentEditable({ text, onChange, label, ...props }) {\n  const ref = useRef(null);\n\n  useEffect(() => {\n    // prevent the cursor from jumping to the front when `text` changes externally\n    if (document.activeElement === ref.current) {\n      // helpful src: https://stackoverflow.com/a/3866442\n      const range = document.createRange(); // Create a range (a range is a like the selection but invisible)\n      range.selectNodeContents(ref.current); // Select the entire contents of the element with the range\n      range.collapse(false); // collapse the range to the end point. false means collapse to end rather than the start\n      const selection = window.getSelection(); // get the selection object (allows you to change selection)\n      selection.removeAllRanges(); // remove any selections already made\n      selection.addRange(range); // make the range you have just created the visible selection\n    }\n  }, [text]);\n\n  return (\n    <div\n      ref={ref}\n      role=\"textbox\"\n      contentEditable=\"true\"\n      suppressContentEditableWarning={true}\n      onInput={onChange}\n      {...props}\n    >\n      {text}\n    </div>\n  );\n}\n\nexport default ContentEditable;\n","import { useState, forwardRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { debounce } from 'lodash-es';\nimport { Row, Col, Form, Button, InputGroup } from 'react-bootstrap';\nimport classNames from 'classnames';\nimport { removeTodo, completeTodo, openTodo, updateTodo } from 'features/Todo/todoSlice';\nimport { TODO_STATUS } from 'features/Todo/TodoModel';\nimport TodoItemReminder from 'components/TodoItemReminder';\nimport ContentEditable from 'components/ContentEditable';\nimport { cancelScheduledNotification } from 'helpers/notifications';\nimport styles from 'features/Todo/TodoItem.module.css';\n\nconst { DONE, OPEN } = TODO_STATUS;\n\nfunction TodoItem({ todo, onDeleteItem = () => {}, ...props }, ref) {\n  const { id, title, status } = todo;\n  const dispatch = useDispatch();\n  const [showSettings, setShowSettings] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  \n  const debouncedUpdate = debounce((title) => {\n    dispatch(updateTodo({ id, title }));\n  }, 1000);\n\n  function onChange(e) {\n    debouncedUpdate(e.currentTarget.textContent);\n  }\n\n  const isDone = status === DONE;\n\n  return (\n    <Row\n      ref={ref}\n      {...props}\n      as=\"li\"\n      className={classNames('gx-0 mb-1', styles.fadeIn, {\n        [styles.fadeOut]: isDeleting,\n      })}\n    >\n      {status === OPEN && (\n        <Col xs=\"auto\" className={`align-items-center d-flex ${styles.grip}`}>\n          <i className=\"bi bi-grip-vertical\" />\n        </Col>\n      )}\n      <Col xs=\"auto\">\n        <Form.Check className={styles.check} id={`todo-checkbox-${id}`}>\n          <Form.Check.Input\n            type=\"checkbox\"\n            checked={isDone}\n            onChange={(e) => {\n              if (e.target.checked) {\n                dispatch(completeTodo(id));\n              } else {\n                dispatch(openTodo(id));\n              }\n            }}\n          />\n          <Form.Check.Label htmlFor={`todo-checkbox-${id}`} className=\"visually-hidden\">\n            Mark done\n          </Form.Check.Label>\n        </Form.Check>\n      </Col>\n      <Col>\n        <InputGroup>\n          {isDone && (\n            <div\n              className={`${styles.control} form-control text-muted text-decoration-line-through`}\n            >\n              {title}\n            </div>\n          )}\n          {!isDone && (\n            <ContentEditable\n              onChange={onChange}\n              className={classNames(styles.control, 'form-control')}\n              text={title}\n            />\n          )}\n\n          {!isDone && (\n            <Button\n              variant=\"link\"\n              title=\"add reminder\"\n              onClick={() => {\n                setShowSettings(!showSettings);\n              }}\n            >\n              <i className=\"bi bi-bell\" />\n              <span className=\"visually-hidden\">add reminder</span>\n            </Button>\n          )}\n          <Button\n            className={styles.remove}\n            title=\"delete\"\n            variant=\"link\"\n            onClick={() => {\n              setIsDeleting(true);\n              onDeleteItem(id);\n              todo.reminders?.forEach((todo) => {\n                cancelScheduledNotification(todo.tag).catch(console.error);\n              });\n              setTimeout(() => {\n                dispatch(removeTodo(id));\n              }, 500);\n            }}\n          >\n            <i className=\"bi bi-trash\" />\n            <span className=\"visually-hidden\">delete</span>\n          </Button>\n        </InputGroup>\n      </Col>\n      {showSettings && (\n        <Col xs={12}>\n          <TodoItemReminder todo={todo} />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default forwardRef(TodoItem);\n","import { Draggable } from 'react-beautiful-dnd';\nimport { TODO_STATUS } from 'features/Todo/TodoModel';\nimport TodoItem from './TodoItem';\n\nconst { DONE } = TODO_STATUS;\n\nfunction DraggableTodo({ todo, index, ...props }) {\n  const { id, status } = todo;\n\n  const getItemStyle = (isDragging, draggableStyle) => {\n    const styles = {\n      ...draggableStyle,\n    };\n\n    if (isDragging) {\n      styles.userSelect = 'none';\n      styles.border = '1px solid lightgreen'\n    }\n\n    if (status === DONE) {\n      styles.display = 'none';\n    }\n\n    return styles;\n  };\n\n  return (\n    <Draggable draggableId={id} index={index}>\n      {(provided, snapshot) => (\n        <TodoItem\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n          todo={todo}\n          {...props}\n        />\n      )}\n    </Draggable>\n  );\n}\n\nexport default DraggableTodo;\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Button, InputGroup, Form } from 'react-bootstrap';\nimport { addTodo } from 'features/Todo/todoSlice';\n\nfunction AddTodoForm() {\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState('');\n  const [hasError, setHasError] = useState(false);\n\n  function handleChange(event) {\n    const { value } = event.currentTarget;\n    if (value.length > 150) {\n      event.preventDefault();\n      setHasError(true);\n      return;\n    }\n\n    setHasError(false);\n    setTitle(value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(addTodo(title));\n    setTitle('');\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <InputGroup>\n        <Form.Control\n          onChange={handleChange}\n          value={title}\n          aria-label=\"Enter todo item\"\n          aria-describedby=\"basic-addon2\"\n        />\n        <Button type=\"submit\" variant=\"outline-primary\" id=\"button-addon2\">\n          <i className=\"bi bi-plus\" />\n        </Button>\n      </InputGroup>\n      <Form.Control.Feedback type=\"invalid\" style={{ display: hasError ? 'block' : 'none' }}>\n        Max 150 characters\n      </Form.Control.Feedback>\n    </form>\n  );\n}\n\nexport default AddTodoForm;\n","import { useEffect } from 'react';\nimport styles from 'components/SnackBar/SnackBar.module.css';\n\nfunction SnackBar({ title, actionTitle, action, onClose }) {\n  useEffect(() => {\n    const timeout = setTimeout(onClose, 5000);\n    return function cleanup() {\n      window.clearTimeout(timeout);\n    };\n  }, [onClose]);\n\n  return (\n    <div role=\"alert\" className={styles.snackWrap}>\n      <div className={styles.snackInner}>\n        <div>{title}</div>\n        <div className={styles.actionWrap}>\n          {action && actionTitle && (\n            <button className={styles.action} type=\"button\" onClick={action}>\n              {actionTitle}\n            </button>\n          )}\n\n          <button type=\"button\" className={styles.close} onClick={onClose}>\n            <i className=\"bi bi-x-lg\" />\n            <span className=\"visually-hidden\">close</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SnackBar;\n","import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ActionCreators } from 'redux-undo';\nimport { selectTodos, reorder } from 'features/Todo/todoSlice';\nimport TodoItem from 'features/Todo/TodoItem';\nimport DraggableTodo from 'features/Todo/DraggableTodo';\nimport { TODO_STATUS } from 'features/Todo/TodoModel';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport TodoForm from 'components/AddTodoForm/AddTodoForm';\nimport SnackBar from 'components/SnackBar/SnackBar';\nconst { DONE } = TODO_STATUS;\n\nfunction HomePage() {\n  const todos = useSelector(selectTodos);\n  const dispatch = useDispatch();\n  const [showUndo, setShowUndo] = useState(false);\n\n  const completed = todos.filter((todo) => todo.status === DONE);\n\n  function onDelete() {\n    setShowUndo(true);\n  }\n\n  function onDragEnd(result) {\n    if (!result.destination) {\n      return;\n    }\n\n    dispatch(\n      reorder({\n        id: result.draggableId,\n        endIndex: result.destination.index,\n      })\n    );\n  }\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col>\n            <DragDropContext onDragEnd={onDragEnd}>\n              <Droppable droppableId=\"home-list\">\n                {(provided) => (\n                  <ul\n                    {...provided.droppableProps}\n                    ref={provided.innerRef}\n                    className=\"list-unstyled\"\n                  >\n                    {todos &&\n                      todos.map((todo, index) => (\n                        <DraggableTodo\n                          key={todo.id}\n                          todo={todo}\n                          onDeleteItem={onDelete}\n                          index={index}\n                        />\n                      ))}\n                    {provided.placeholder}\n                  </ul>\n                )}\n              </Droppable>\n            </DragDropContext>\n\n            <TodoForm />\n\n            {showUndo && (\n              <SnackBar\n                title=\"Deleted todo item\"\n                actionTitle=\"undo\"\n                action={() => {\n                  dispatch(ActionCreators.undo());\n                  setShowUndo(false);\n                }}\n                onClose={() => {\n                  setShowUndo(false);\n                }}\n              />\n            )}\n\n            {completed.length > 0 && (\n              <ul className=\"list-unstyled mt-4\">\n                {completed.map((todo) => (\n                  <TodoItem key={todo.id} todo={todo} onDeleteItem={onDelete} />\n                ))}\n              </ul>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default HomePage;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { Container, Row, Col, Form } from 'react-bootstrap';\nimport { updateSimpleSetting } from 'redux/settingsSlice';\n\nfunction SettingsPage() {\n  const dispatch = useDispatch();\n  const allSettings = useSelector((state) => state.settings);\n\n  function requestPermission() {\n    Notification.requestPermission().then((permission) => {\n      dispatch(\n        updateSimpleSetting({\n          settingsKey: 'allowNotification',\n          value: permission === 'granted',\n        })\n      );\n    });\n  }\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <h1>Settings</h1>\n        </Col>\n      </Row>\n      <Row className=\"mt-4\">\n        <Col>Allow notifications</Col>\n        <Col xs=\"auto\">\n          <Form.Check\n            type=\"switch\"\n            id=\"allowNotifications\"\n            aria-label=\"Toggle Allow Notifications\"\n            checked={allSettings.allowNotification}\n            onChange={(e) => {\n              if (e.target.checked) {\n                requestPermission();\n              } else {\n                dispatch(\n                  updateSimpleSetting({\n                    settingsKey: 'allowNotification',\n                    value: false,\n                  })\n                );\n              }\n            }}\n          />\n        </Col>\n      </Row>\n      <Row className=\"mt-4\">\n        <Col>Dark Mode</Col>\n        <Col xs=\"auto\">\n          <fieldset>\n            <Form.Check\n              inline\n              type=\"radio\"\n              id=\"darkMode-on\"\n              name=\"darkMode\"\n              label=\"on\"\n              checked={allSettings.darkMode === 'on'}\n              value=\"on\"\n              onChange={(e) => {\n                dispatch(\n                  updateSimpleSetting({\n                    settingsKey: 'darkMode',\n                    value: 'on',\n                  })\n                );\n              }}\n            />\n            <Form.Check\n              inline\n              type=\"radio\"\n              id=\"darkMode-off\"\n              name=\"darkMode\"\n              label=\"off\"\n              checked={allSettings.darkMode === 'off'}\n              value=\"off\"\n              onChange={(e) => {\n                dispatch(\n                  updateSimpleSetting({\n                    settingsKey: 'darkMode',\n                    value: 'off',\n                  })\n                );\n              }}\n            />\n            <Form.Check\n              inline\n              type=\"radio\"\n              id=\"darkMode-system\"\n              name=\"darkMode\"\n              label=\"OS\"\n              checked={allSettings.darkMode === 'system'}\n              value=\"system\"\n              onChange={(e) => {\n                dispatch(\n                  updateSimpleSetting({\n                    settingsKey: 'darkMode',\n                    value: 'system',\n                  })\n                );\n              }}\n            />\n          </fieldset>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SettingsPage;\n","import { Navbar, Container, Nav } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nfunction OurNavbar({ darkMode }) {\n  let bg = 'light';\n  let variant = 'light';\n  const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');\n\n  if (darkMode === 'on' || (darkMode === 'system' && prefersDarkScheme.matches)) {\n    bg = 'dark';\n    variant = 'dark';\n  }\n\n  return (\n    <Navbar bg={bg} variant={variant} expand=\"md\" className=\"mb-2\">\n      <Container>\n        <Navbar.Brand as={Link} to=\"/\">\n          Todo+\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"todo-nav\" />\n        <Navbar.Collapse id=\"todo-nav\">\n          <Nav className=\"me-auto\">\n            <Nav.Link as={Link} to=\"/settings\">\n              Settings\n            </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport default OurNavbar;\n","import { useEffect } from 'react';\nimport { DateTime } from 'luxon';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styles from './App.module.css';\nimport NetworkStatus from 'components/NetworkStatus';\nimport HomePage from 'pages/Home';\nimport SettingsPage from 'pages/Settings';\nimport { selectDarkMode, updateSimpleSetting } from 'redux/settingsSlice';\nimport Navbar from 'components/Navbar';\nimport { Container } from 'react-bootstrap';\nimport { createScheduledNotification, cancelScheduledNotification } from 'helpers/notifications';\n\n/**\n * Note: using HashRouter instead of BrowserRouter because Github pages does not support pushState\n * https://create-react-app.dev/docs/deployment/#notes-on-client-side-routing\n */\n\nfunction App() {\n  const darkMode = useSelector(selectDarkMode);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    /**\n     * Testing whether we can use scheduled notifications by trying to create one. If successful\n     * then we quickly cancel it\n     */\n    const tempTag = `test-reminder-${Date.now()}`;\n    const timestamp = DateTime.now().plus({ minutes: 1 }).toMillis();\n    createScheduledNotification(tempTag, 'test scheduled reminder', timestamp)\n      .then(() => {\n        cancelScheduledNotification(tempTag).catch(console.error);\n        dispatch(updateSimpleSetting({ settingsKey: 'allowNotification', value: true }));\n      })\n      .catch((e) => {\n        console.error('App.js', e);\n        dispatch(updateSimpleSetting({ settingsKey: 'allowNotification', value: false }));\n      });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (darkMode === 'on') {\n      document.body.classList.add('dark-theme');\n      document.body.classList.remove('light-theme');\n    } else if (darkMode === 'off') {\n      document.body.classList.remove('dark-theme');\n      document.body.classList.add('light-theme');\n    } else {\n      document.body.classList.remove('dark-theme');\n      document.body.classList.remove('light-theme');\n    }\n  }, [darkMode]);\n\n  return (\n    <Router>\n      <Navbar darkMode={darkMode} />\n      <main className=\"pb-4\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <HomePage />\n          </Route>\n          <Route path=\"/settings\" exact>\n            <SettingsPage />\n          </Route>\n        </Switch>\n      </main>\n      <footer className={`${styles.footer} bg-light`}>\n        <Container>\n          <NetworkStatus />\n        </Container>\n      </footer>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { configureStore, combineReducers } from '@reduxjs/toolkit';\nimport undoable from 'redux-undo';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist-indexeddb-storage';\nimport todoReducer from 'features/Todo/todoSlice';\nimport settingsReducer from 'redux/settingsSlice';\n\nconst rootReducer = combineReducers({\n  todos: undoable(todoReducer, {\n    limit: 1,\n  }),\n  settings: settingsReducer,\n});\n\nconst persistConfig = {\n  key: 'root',\n  version: 1,\n  storage: storage('TodoDB'),\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n});\n\nexport let persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\nimport { iosReliableInstall } from 'helpers/pwa';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\niosReliableInstall();\n","import { once } from 'helpers/events';\n\n/**\n * on Android you need to request persistent storage so this handles that for you,\n *\n * on iOS this will always return true since iOS allows persistent storage by default after install\n */\nexport async function requestPersistentStorage() {\n  if (navigator.storage?.persist) {\n    const granted = await navigator.storage.persist();\n    console.log('persistent storage granted=', granted);\n    return granted;\n  }\n\n  if (typeof cb === 'function') return 'standalone' in navigator;\n}\n\nconst localStorageInstallKey = 'pwa_installed';\n\nexport const isInstalled = () => localStorage.getItem(localStorageInstallKey) === 'true';\n\n/**\n * This is only available in Chromium based browsers. Prevent the install banner showing and then\n * use the returned event later during a custom install like this: `event.prompt()`\n */\nexport function captureInstallEvent() {\n  if ('onbeforeinstallprompt' in window) {\n    once(window, 'appinstalled', function () {\n      localStorage.setItem(localStorageInstallKey, true);\n    });\n\n    return new Promise((resolve) => {\n      function handler(event) {\n        // prevent banner or infobar appearing asking to install/add-to-home\n        event.preventDefault();\n        // return event for future use\n        resolve(event);\n      }\n\n      once(window, 'beforeinstallprompt', handler);\n    });\n  }\n\n  return {\n    prompt: () => {}\n  }\n}\n\n/**\n * This is one method of checking if the app is already installed but I suggest using the localStorage\n * way instead. However, the iOS \n * @param {function} cb\n */\nexport function isAlreadyInstalled(cb) {\n  //check when the page is loaded if it matches one of the PWA display modes\n  once(window, 'DOMContentLoaded', function () {\n    cb(\n      navigator.standalone ||\n        window.matchMedia('(display-mode: standalone)').matches ||\n        window.matchMedia('(display-mode: fullscreen)').matches ||\n        window.matchMedia('(display-mode: minimal-ui)').matches\n    );\n  });\n\n  //but also add a listener. After app installation on desktop, the app will open in their own window right away.\n  once(window, 'DOMContentLoaded', function () {\n    window.matchMedia('(display-mode: standalone)').addEventListener(function (e) {\n      cb(e.matches);\n    });\n    window.matchMedia('(display-mode: fullscreen)').addEventListener(function (e) {\n      cb(e.matches);\n    });\n    window.matchMedia('(display-mode: minimal-ui)').addEventListener(function (e) {\n      cb(e.matches);\n    });\n  });\n}\n\n/**\n * This is a hack by Maximiliano Firtman\n *\n * This improves the reliability of an iOS install experience when use adds app to home screen and\n * the network connection cuts out. iOS tries getting the manifest and icon only at install time and\n * getting a 404 for those it reverts back to the screenshot icon\n *\n * IMPORTANT: When using this you must use absolute URLS in the manifest and test it again in every\n * new iOS version release.\n *\n * Tested and works in iOS 12, 13, 14, 14.5\n */\nexport function iosReliableInstall() {\n  if ('standalone' in navigator) {\n    // preload the app manifect for iOS safari\n    // manifest should always be at the root\n    fetch('manifest.json')\n      .then((r) => r.text())\n      .then((manifest) => {\n        document.querySelector(\n          'link[rel=\"manifest\"]'\n        ).href = `data:application/manifest+json;charset=utf-8,${manifest}`;\n      })\n      .catch(console.error);\n\n    fetch('logo180.png')\n      .then((r) => r.blob())\n      .then((blob) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          document.querySelector('link[rel=\"apple-touch-icon\"]').href = reader.result;\n        };\n        reader.readAsDataURL(blob);\n      })\n      .catch(console.error);\n  }\n}\n\nexport function getPWADisplayMode() {\n  const isStandalone = window.matchMedia('(display-mode: standalone)').matches;\n  if (document.referrer.startsWith('android-app://')) {\n    return 'pwa';\n  } else if (navigator.standalone || isStandalone) {\n    return 'standalone';\n  }\n  return 'browser';\n}\n\nexport function isThisDeviceRunningiOS() {\n  if ('standalone' in navigator) {\n    // this only works in iOS Safari\n    return true;\n  }\n\n  if (\n    ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(\n      navigator.platform\n    )\n  ) {\n    return true;\n  }\n\n  // iPad on iOS 13\n  if (navigator.userAgent.includes('Mac') && 'ontouchend' in document) {\n    return true;\n  }\n\n  return false;\n}\n"],"sourceRoot":""}